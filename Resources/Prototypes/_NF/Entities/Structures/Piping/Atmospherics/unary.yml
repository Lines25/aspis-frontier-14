- type: entity
  parent: [ BaseMachinePowered, ConstructibleMachine ]
  id: GasMiningDrill
  name: gas mining drill
  description: A powerful, luggable drill for mining gas deposits on asteroids. Outputs gas through a pipe.
  placement:
    mode: SnapgridCenter
  components:
    - type: Appearance
    - type: PipeColorVisuals
    - type: Rotatable
    - type: AtmosPipeColor
    - type: AtmosDevice
    - type: UserInterface
      interfaces:
        enum.GasPressurePumpUiKey.Key:
          type: GasPressurePumpBoundUserInterface
    - type: ActivatableUI
      inHandsOnly: false
      key: enum.GasPressurePumpUiKey.Key
    - type: WiresPanel
    - type: WiresVisuals
    - type: PipeRestrictOverlap
    - type: NodeContainer
      nodes:
        port:
          !type:PipeNode
          nodeGroupID: Pipe
          pipeDirection: South
    - type: Transform
      noRot: false
    - type: DeviceNetwork
      deviceNetId: AtmosDevices
      receiveFrequencyId: AtmosMonitor
      transmitFrequencyId: AtmosMonitor
      sendBroadcastAttemptEvent: true
      examinableAddress: true
      prefix: device-address-prefix-gas-drill
    - type: WiredNetworkConnection
    - type: PowerSwitch
    - type: StationAiWhitelist
    - type: Sprite
      sprite: Structures/Piping/Atmospherics/thermomachine.rsi
      snapCardinals: true
      granularLayersRendering: true
      layers:
        - state: freezerOff
          map: [ "enum.PowerDeviceVisualLayers.Powered" ]
        - state: freezerPanelOpen
          map: [ "enum.WiresVisualLayers.MaintenancePanel" ]
        - state: pipe
          map: [ "enum.PipeVisualLayers.Pipe" ]
          renderingStrategy: Default
    - type: GenericVisualizer
      visuals:
        enum.PowerDeviceVisuals.Powered:
          enum.PowerDeviceVisualLayers.Powered:
            True: { state: freezerOn }
            False: { state: freezerOff }
    - type: ApcPowerReceiver
      load: 4000
    - type: Machine
      board: Null # FIXME
    - type: GasDepositExtractor
      extractionRate: 20
      port: port
